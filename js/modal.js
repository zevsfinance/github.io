!function(){if("function"==typeof window.CustomEvent)return!1;function o(o,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(o,a.bubbles,a.cancelable,a.detail),t}o.prototype=window.Event.prototype,window.CustomEvent=o}();var modalOpenEvent=new CustomEvent("modal_open"),modalCloseEvent=new CustomEvent("modal.close"),modalInitEvent=new CustomEvent("modal.init"),modalBeforeOpenEvent=new CustomEvent("modal_before_open"),modalBeforeCloseEvent=new CustomEvent("modal.before.close"),openMod=function(){$("[data-modal]").map(function(){if($(window).width()>=768){$(this).on("click",modalEvent);var o=document.getElementById($(this).attr("data-modal"));$(o).hasClass("init-modal")||(o.dispatchEvent(modalInitEvent),$(o).addClass("init-modal"))}else if(!$(this).hasClass("notModalMob")){$(this).on("click",modalEvent);o=document.getElementById($(this).attr("data-modal"));$(o).hasClass("init-modal")||(o.dispatchEvent(modalInitEvent),$(o).addClass("init-modal"))}}),$(".modalsScroll .closeModal").on("click",closeModal),$(".modalsScroll .overlayModal").on("click",closeModal)},modalEventOpen=function(o){var a="#"+o,t=$(".blockMod"),d=t.filter("."+l),e=t.filter(a),l="open";d.length>0?(d.removeClass(l).fadeOut(500),setTimeout(function(){e.addClass(l).fadeIn(500)},500)):($(".overlayModal").fadeIn(500),e.addClass(l).fadeIn(500),$("body").addClass("bodyModal"),$(".modalsScroll").addClass("open"))},modalEvent=function(){var o=".modalsScroll:not([data-modalid])";$(this).attr("data-modalid")&&(o=".modalsScroll#"+$(this).attr("data-modalid")),$(o+" .blockMod.open").length>0?openOtherModal($(this)):openModal($(this))},openOtherModal=function(o){closeModalOnly(),setTimeout(function(){openModalOnly(o)},500)},openModal=function(o){var a=".modalsScroll:not([data-modalid])";o.attr("data-modalid")&&(a=".modalsScroll#"+o.attr("data-modalid")),$(a+" .overlayModal").fadeIn(500);var t=document.getElementById(o.attr("data-modal"));t.dispatchEvent(modalBeforeOpenEvent),$(a+" .blockMod#"+o.attr("data-modal")).addClass("open").fadeIn(500,function(){t.dispatchEvent(modalOpenEvent)}),$("html").addClass("bodyModal").on("keydown",function(o){27==o.keyCode&&closeModal()}),$(a).addClass("open")},openModalOnly=function(o){var a=".modalsScroll:not([data-modalid])";o.attr("data-modalid")&&(a=".modalsScroll#"+$(this).attr("data-modalid"));var t=document.getElementById(o.attr("data-modal"));t.dispatchEvent(modalBeforeOpenEvent),$(a+" .blockMod#"+o.attr("data-modal")).addClass("open").fadeIn(500,function(){t.dispatchEvent(modalOpenEvent)})},closeModal=function(){$(".modalsScroll .overlayModal").fadeOut(500);var o=document.getElementById($(".modalsScroll .blockMod.open").attr("id"));o.dispatchEvent(modalBeforeCloseEvent),$(".modalsScroll .blockMod.open").fadeOut(500,function(){$(this).removeClass("open"),$("html").removeClass("bodyModal").off("keydown"),$(".modalsScroll").removeClass("open"),$("body").removeClass("bodyModal"),o.dispatchEvent(modalCloseEvent)})},closeModalOnly=function(){var o=document.getElementById($(".modalsScroll .blockMod.open").attr("id"));o.dispatchEvent(modalBeforeCloseEvent),$(".modalsScroll .blockMod.open").fadeOut(500,function(){$(this).removeClass("open"),o.dispatchEvent(modalCloseEvent)})};